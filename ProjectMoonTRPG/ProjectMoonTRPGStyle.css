/* Sheet styling outline:
   In VSCode, select an entry and CTRL-F for easy nagivation
    
    - Sheet base
    - Sheet top bar
		○ Title, logo, player name, credits, settings
		○ Popup messages
    - Shared sheet styling
        ○ Placeholder text, sizing and position elements
        ○ Content containers
        ○ Generic inputs, buttons, dropdowns, icons
        ○ Section headers
        ○ Assorted
    - Sheet tabs
    - Character profile
    - Distortion
        ○ Profile, Distortion effects
        ○ Work preference, observation level
    - Status bars
    - Character stats
        ○ Roll helpers
    - Damage helper
    - Status ailments
        ○ Combat states
        ○ Custom ailments
    - Combat options
        ○ Targeting
        ○ Last defence dice
        ○ Resource tracking
        ○ Combat toggle
        ○ Generic token mode
    - Combat palette
        ○ Skill and tool selection
        ○ Mystery combat palette
        ○ Weapon uses
    - Equipment and Skills
        ○ Weapons
        ○ Outfits
        ○ Tools
        ○ Augments
        ○ Skills
        ○ Special items
        ○ Mysteries (E.G.O)
        ○ Repeating inventory and skills
            ○ Controls
            ○ Item editor
        ○ AutoScript, edit, share buttons
            ○ Edit cover
            ○ Custom outfit resistances
    - AutoScript
        ○ AutoScript editor
        ○ Styling and alias editors
        ○ Conditional buttons
    - Settings
        ○ General settings
        ○ Editor tab
        ○ Game settings
        ○ Custom ailments
        ○ Export/Import tab
    - Roll templates
        ○ Shared roll template styles
        ○ Messages
        ○ Damage calculations
        ○ Dice rolls
        ○ AutoEffect sections
        ○ Chat buttons
    - Assorted
        ○ Auto Update indicator
        ○ Experimental
    - Icons
        ○ Ailment icons
        ○ Assorted icons
    - Colors

*/


/* ===== Universal styling ===== */
* {
    margin: 0px;
    padding: 0px;
    text-decoration: none;
    list-style: none;
    border-style: none;
	line-height: 1;
    font-family: 'Noto Sans JP', sans-serif;
}


/* ===== Sheet base ===== */
#sheetWrapper {
    margin-top: 70px;
    margin-bottom: 30px;
}
.sheetform {
    background-color: #1F1F1F !important; 
    position: relative; 
    min-width: 850px;
}
body, .sheet-body {
    min-width: 800px;
    max-width: 850px;
}



/* ===== Sheet top bar ===== */
/* Includes the sheet's title, logo, player name, credits and cogwheel menu (displays the general setting) */
#sheetTitle {
    color: var(--color-LIGHT); 
    font-weight: bolder;
    display: flex;
    align-items: center;
    font-size: 15pt;
    height: 20px;
    position: absolute;
    top: 0;
    left: 180px;
    min-width: 600px;
}

#logo {
    height: 75px; width: 150px; min-width: 150px; margin-bottom: 10px;
    position: absolute;
    top: 0; left: 15px;
}
#logo img {
    width: 150px; min-width: 150px;
}


/* Used for the credits and general settings menus */
#menuContainer {
    width: 100%;
    display: flex;
    position: relative;
    min-width: 800px;
}

/* Credits (displayed by hovering over logo in top-left corner) */
#credits {
    width: 32px;
    height: 32px;
    position: absolute;
    top: -2px;
    left: 60px;
    background-color: rgba(0,0,0,0);
    border-radius: 5px;
    border: 1px transparent solid;
    overflow: hidden;
    color: var(--color-LIGHT);
    z-index: 100;
}
#credits:hover{
    width: 500px;
    height: 160px;
    border: 1px var(--color-LIGHT) solid;
    border-radius: 15px 5px 5px 5px;
    background-color: rgba(0,0,0,0.8);
}
.creditIcon {
    position: absolute;
    z-index: 5;
    display: flex;
    align-items: center;
    justify-content: center;
    top: 0;
    left: 0;
    width: 30px;
    height: 30px;
    color: var(--color-LIGHT);
    font-size: 20px;
    border-radius: 100px;
    border: 1px rgba(256,256,256, 0.2) solid;
}
.creditText {
    padding: 10px 10px 10px 50px;
}
.creditText input {
    height: 15px !important;
}


/* Player name field */
.player { position: absolute; top: 40px; left: 203px; z-index: 4; text-align: left; display: flex; align-items: flex-start; justify-content: flex-start; height: 25px; opacity: 50%; }
.player div { color: var(--color-LIGHT); font-weight: bolder; height: 25px; display: flex; align-items: center; justify-content: center; }
#playerName { background-color: transparent; text-decoration-line: underline; text-decoration-color: var(--color-LIGHT); color: var(--color-LIGHT); }


/* Popup messages, Used by many functions across the sheet to display alerts to the player */
#messagePop {
    position: fixed;
    top: 0px;
    left: 0px;
    width: 100%;
    z-index: 999;
}
#messagePop input, #messagePop textarea {
    text-align: center;
}
.messageClose {
    position: absolute;
    top: 5px;
    right: 5px;
    border: 1px rgba(256,256,256, 0.5) solid;
    border-radius: 5px;
    z-index: 900;
    width: 30px;
    height: 30px;
}
.messageClose label {
    display: flex;
    text-align: center;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}
.mHeader{
    font-size: 20px;
    color: var(--color-LIGHT) !important;
}
.mBody {
    border: none;
}
.messageContent {
    position: absolute;
    top: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px var(--color-LIGHT) solid;
    background-color: rgba(0,0,0,0.8);
    border-radius: 5px;
    color: var(--color-LIGHT);
    width: 50%;
    min-width: 350px;
    padding: 5px;
    height: 0px;
    opacity: 0;
    overflow: hidden;
    /* transition: opacity 0.55s, height 1s; */
}
#messageToggle:checked ~ #messagePop .messageContent  {
    height: 100px;
    opacity: 100%;
    /* transition: opacity 0.55s, height 0s; */
}
/* ===== Sheet top bar END ===== */




/* ===== Shared sheet styling ===== */
/* Generic styling for elements that appear all over the sheet */

/* Assorted placeholder text */
::placeholder {
    color: var(--color-white);
    opacity: 50%;
}
:is(textarea, .CharSmallNotes, .CharDetail, .egoIdeologyInput)::placeholder {
    color: var(--color-darker-gray);
    opacity: 30%;
}
.distortProfile ::placeholder {
    color: var(--color-lighter-gray) !important;
}
#globalSettings ::placeholder {
    color: var(--color-light-gray) !important;
}
.searchBar ::placeholder {
    color: var(--color-lighter-gray) !important;
}


/* Cusomizable names for equipment, skills, mystery ect. */
.contentName, .viewerName, .skillName, .toolName, .skillSelectionElement .skillSelectionName, input[type=text] {
    text-overflow: ellipsis;
}
.contentName {
    width: 100%;
}


/* Assorted sizing and positioning of sheet elements. Most are self-explanatory */
.rowContainer {
    display: flex;
    align-items: flex-start;
    justify-content: start;
    width: 100%;
    position: relative;
}
.rowContainer select {
    text-align: center;
}

.centerFlex {
    align-items: center;
    justify-content: center;
}

.columnAlign {
    display: flex;
    align-items: center;
    flex-direction: column;
    justify-content: center;
    color: var(--color-white);
    position: relative;
}

#TopContainer { width: 100%; text-align: center; display: flex; }
#TopColumnL { min-width: 265px; float: left; padding-left: 0px; padding-right: 0px; margin-right: 5px; }
#TopColumnM { min-width: 180px; padding-left: 10px; padding-right: 10px; }
#TopColumnR { width: 265px; float: right; padding-left: 15px; padding-right: 10px; }

.columnContent { min-width: 180px; max-width: 280px; position: relative;}


/* Base for all content-holding containers (equipment, skills, player profile at the top of the sheet etc.) */
.contentContainer, .specialBlock, .augmentBlock, .skillBlock {
	width: 100%;
    text-align: center;
    background-color: #c3c3c3; border-radius: 3px;
    position: relative;
    overflow: hidden;
}
.contentHeader {
    background-color: var(--color-dark-white);
    width: 100%;
    padding-top: 3px;
    padding-bottom: 3px;
    text-align: left;
    overflow: hidden;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: start;
    flex-basis: 0;
    height: 30px;
}
.contentBlock {
    width: 100%;
    display: flex;
    justify-content: start;
    align-items: start;
}


/* Generic elements */
.weaponRank, .outfitRank, .augmentRank, .toolRank, .specialItemRank, .egoRank, .characterRank,
.characterLevel, .workAmount, .workPref .workPref, .disadvCounter, .advCounter, .lightCostInput {
    width: 25px;
    text-align: center;
    background-color: rgba(0,0,0,0.2) !important;
    color: var(--color-white);
    font-weight: bold;
    height: 25px !important;
    margin-left: 5px;
    margin-right: 5px;
}

/* Generic buttons */
.darkButton {
    height: 22px;
    width: 100%;
    padding: 0 4px;
    border-radius: 3px;
    color: var(--color-white) !important;
    background-color: var(--color-dark-gray) !important;
    border: 1px var(--color-darker-gray) solid;
    font-weight: bold;
}
.btn {
    border-radius: 5px;
    background-image: none;
    background-color: var(--color-dark-gray);
    border: 1px var(--color-darker-gray) solid;
    height: 20px;
    padding: 3px;
    border-radius: 3px;
    color: var(--color-white) !important;
    font-weight: bold;
    min-width: 40px;
    background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0));
    text-align: center;
    text-shadow: none;
    box-shadow: none !important;
    margin-right: 5px;
    margin-left: 5px;
}
.btn-danger {
    width: 45px;
    height: 25px;
}
.shareButton, .editButton, .autoScriptButton, .copyButton, .displayButton, .lockButton, .equipEditButton {
    position: absolute;
    height: 25px;
    width: 25px;
    z-index: 9;
    border-radius: 5px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
}
:is(.shareButton, .editButton, .autoScriptButton, .copyButton, .displayButton, .lockButton, .equipEditButton, .searchClear, .searchOptions):hover {
    background-color: rgba(0, 0, 0, 0.3) !important;
}
:is(.NDice, .challengeButton, .declare, .btn, .selectTargetButton, .defenceDice, .editorControls button, .sectionHeader button:not(:first-child), .darkButton):hover {
    background-color: var(--color-black) !important;
}
.editorContainer {
    position: fixed;
    z-index: 999;
}
.editorControls {
    position: absolute;
    top: 4px;
    right: 6px;
    display: flex;
}
.editorControls button {
    height: 25px;
    width: auto;
    z-index: 20;
    padding: 0 4px;
    margin-left: 6px;
    border-radius: 5px;
}
.editorTarget {
    position: absolute;
    top: 1px;
    left: 145px;
    color: var(--color-lighter-gray);
    pointer-events: none;
}
.editorContainer > :is(label, .editorTarget) {
    margin-top: 3px;
}
#itemEditor .editorTarget {
    left: 95px;
}
.editorContainer label {
    color: #B3B3B3;
}
.editorInput {
    resize: vertical;
    overflow: auto;
    min-height:60px;
    height: 120px;
    max-height: 500px;
}

/* Generic icons */
.statusIcon {
    width: 25px;
    height: 25px;
}
.icon {
    position: absolute;
    top: 0;
    left: 0;
}
.centerIcon, .NDice {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
.containIcon {
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
}
:is(.largeIcon, .mediumIcon, .smallIcon) {
    padding: 0 !important;
}
.largeIcon {
    height: 30px !important;
    width: 30px !important;
}
.mediumIcon {
    height: 25px !important;
    width: 25px !important;
}
.smallIcon {
    height: 20px !important;
    width: 20px !important;
}

/* Generic input elements */
textarea, input {
    outline: none;
}
input[type="number"] {
    border-style: none;
    vertical-align: middle;
    background-color: var(--color-dark-white);
}
input[type="text"] {
    border-style: none;
    outline-style: none;
    vertical-align: middle;
    background-color: var(--color-dark-white);
}
input[type="checkbox"] {
    width: 21px;
    height: 21px;
    text-align: center;
    vertical-align: middle;
    accent-color: var(--color-LIGHT);
    opacity: 50%;
}
input[type='checkbox']:checked {
    opacity: 100%;
}
textarea {
    border-style: none; 
    outline-style: none;
    vertical-align: middle; 
    background-color: var(--color-dark-white); 
    border-left: 2px var(--color-darker-white) solid; 
    border-right: 2px var(--color-darker-white) solid; 
    max-width: 97%;
    width: 100%;
    max-height: 100px;
    resize: none;
}
select {
    border-style: none;
    outline-style: none;
    vertical-align: top; 
    background-color: var(--color-dark-white);
    margin-bottom: 0px;
}

/* Dropdowns */
select:focus { background-color: rgba(0, 0, 0, var(--select-alpha-focus)) !important; }
option { background-color: rgba(0, 0, 0, var(--option-alpha)); }
option:checked { background-color: rgba(0, 0, 0, var(--option-alpha-checked)); }

.whiteInput      {--select-alpha-focus: 0.20; --option-alpha: 0.65; --option-alpha-checked: 0.45; }
.darkInput       {--select-alpha-focus: 0.35; --option-alpha: 0.25; --option-alpha-checked: 0.15; }
.exportSelect    {--select-alpha-focus: 0.30; --option-alpha: 0.20; --option-alpha-checked: 0.10; }
.paletteButton   {--select-alpha-focus: 0.30; }
.outfitContainer {--option-alpha: 0.075; --option-alpha-checked: 0; }

.settingStyle select:not(.whiteInput, .darkInput) {
    background-color: var(--color-dark-white) !important;
}
.settingStyle             {--option-alpha: 0.10; --option-alpha-checked: 0; }
.settingStyle .whiteInput {--select-alpha-focus: 0.15; --option-alpha: 0.40; --option-alpha-checked: 0.30; }
.settingStyle .darkInput  {--select-alpha-focus: 0.35; --option-alpha: 0.45; --option-alpha-checked: 0.30; }

.transpInput {
    background-color: rgba(0,0,0,0) !important;
    color: var(--color-white);
    font-weight: bold;
}
.darkInput, .status_effect_value {
    background-color: rgba(0,0,0,0.2) !important;
    color: var(--color-white);
    font-weight: bold;
}
.whiteInput {
    background-color: rgba(256,256,256,0.1) !important;
    color: var(--color-off-white);
    font-weight: bold;
}

/* Generic toggle checkboxes */
.expand-toggle, .hide-toggle, .hide-toggle-rev, .hide-toggle-next {
    display: none;
}
.expand-btn {
    width: 35px !important;
    height: 35px !important;
    opacity: 30%;
}
.distortProfile .expand-btn {
    padding: 0px;
    margin: 5px;
    height: 25px !important;
    width: 25px !important;
}
.fade-toggle + div {
    opacity: 100%;
}
.fade-toggle:checked + div {
    opacity: 20%;
}
.status_effect_value {
    opacity: 60%;
}
.fade-toggle ~ .status_effect_value {
    opacity: 80%;
}
.fade-toggle:checked ~ .status_effect_value {
    opacity: 40%;
}
.fade-toggle:checked ~ .resourceCurrent {
    color: rgba(255, 255, 255, 0.5);
}

/* Reveal/hide content with checkbox is checked */
.expand-toggle:checked ~ .expand-btn,
#weapon1-slash:checked ~ .expand-btn, #weapon1-pierce:checked ~ .expand-btn, #weapon1-blunt:checked ~ .expand-btn,
#weapon2-slash:checked ~ .expand-btn, #weapon2-pierce:checked ~ .expand-btn, #weapon2-blunt:checked ~ .expand-btn {
    opacity: 100% !important;
}
.expand-toggle:checked ~ .type-image {
    opacity: 100% !important;
}
.hide-item-rev {
    display: inline-block;
}
.hide-item-rev:is(.rowContainer, .columnAlign) {
    display: flex;
}
.hide-toggle:checked ~ button, .hide-toggle-rev:checked ~ .hide-item-rev, .hide-toggle-rev-next:checked + .hide-item-rev {
    display: none !important;
}
.hide-item {
    width: 100%;
    display: none;
}
.hide-toggle:checked ~ .hide-item, .hide-toggle-next:checked + .hide-item {
    display: inline-block;
}
.hide-toggle:checked ~ .hide-item:is(.rowContainer, .columnAlign) {
    display: flex;
}
div:has(> .hide-container-toggle:checked) { display: none; }
div:has(> .hide-container-toggle-rev) { display: none; }
div:has(> .hide-container-toggle-rev:checked) { display: inline-block; }

/* H3 is used for sections on the main character sheet. H4 is used for headers in the Editor tab. viewerName is used for the skill preview */
h3, h4, .viewerName {
    vertical-align: middle; 
    color: var(--color-LIGHT) !important; 
    font-weight: bolder;
}

/* User for containers displayed in pairs (ex. tools), each taking up half of the column */
.half {
    width: 50%;
}
.contentContainer.half {
    width: 49% !important;
}

/* Used for all settings except the general settings. Other sections have more specific styling rules */
.settingStyle {
    display: flex;
    align-items: center;
    justify-content: start;
}

/* The header above the different sections at the top of the sheet (Derived values, stats, etc.) */
/* Each header consists of a reset button, a h4 header title, and any number of section-specific buttons */
.sectionHeader {
    height: 30px;
    width: calc(100% + 10px);
    margin-top: 8px;
    margin-bottom: 5px;
    align-items: center;
    gap: 5px;
}
.sectionHeader h4 {
    margin-right: auto;
}
.sectionHeader button {
    height: 15px;
    width: 15px;
    text-align: center;
    border: 1px var(--color-LIGHT) solid;
    color: var(--color-LIGHT);
    padding: 3px;
    border-radius: 5px;
    background-color: rgba(0,0,0,0);
    font-size: 12pt;
    font-weight: bold;
    opacity: 50%;
}
.sectionHeader button:not(:first-child) {
    margin-left: 2px;
}
.sectionHeader button:hover {
    opacity: 75%;
}
.sectionHeader button:is(.luck, .next) { background-size: 25px; }
.sectionHeader button:is(.speed) { background-size: 23px; }
.sectionHeader button:is(.exit) { background-size: 21px; padding-left: 22px; }

.sectionHeader button:has(span) {
    display: flex;
    align-items: flex-end;
    width: auto;
    padding-left: 25px;
    background-position: left;
}
.sectionHeader button span {
    padding-right: 1px;
    font-size: 9pt;
    line-height: 14px;
    color: var(--color-white);
}


/* Assorted */

/* Helper text */
.helpers b, .work b {
    font-size: 9pt;
    opacity: 30%;
}

/* Number input spinners (increment/decrement buttons) */
/* Hide spinner on Chromium brosers unless selected/hovered over. Alternatively, always hide the spinner */
:is(.hoverSpinner:not(:hover):not(:focus), .noSpinner)::-webkit-inner-spin-button,
:is(.hoverSpinner:not(:hover):not(:focus), .noSpinner)::-webkit-outer-spin-button {
    display: none;
}
.hoverSpinner::-webkit-inner-spin-button, .hoverSpinner::-webkit-outer-spin-button {
    z-index: 20;
}
/* Hide spinner on Firefox */
.hoverSpinner {
    appearance: textfield;
}
.hoverSpinner:focus, .hoverSpinner:hover {
    appearance: auto;
}
/* May be needed for Firefox */
textarea::-webkit-outer-spin-button, textarea::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* Repcontrol elements are usually not used */
:is(.ailmentCustomDisplay, .genericTokenInstanceContainer, .conditionalButtonDisplay, #globalSettings) .repcontrol,
.customResistDisplay .repcontrol {
    display: none;
}

/* Repcontrols disable interactions with the repeating items */
.itemcontrol {
    position: absolute;
    z-index: 10;
    right: 0px;
    top: 0px;
}

.repcontrol_header {
    box-sizing: content-box;
    width: calc(100% - 12px);
    pointer-events: none;
    padding-right: 4px;
    padding-left: 8px;
    color: var(--color-white);
    font-weight: bold;
}
/* ===== Shared sheet styling END ===== */




/* ===== Character profile ===== */
.profileData {
    text-align: left;
    display: flex;
    margin-bottom: 1px;
}
.profileHeader {
    position: absolute;
    top: 3px;
    left: 3px;
    z-index: 5;
}

/* EXP counter / level box */
.levelBox input {
    height: 25px !important;
}
.levelBox {
    position: absolute;
    top: 3px;
    left: auto;
    right: 0;
    font-size: 9pt !important;
    align-items: flex-end;
    justify-content: flex-end;
    opacity: 50%;
    width: 90px;
}

.CharImage {
    background-color: var(--color-light-gray);
    right: 0px;
    margin-top: 0px;
    top: 62px;
    border: 2px var(--color-light-gray) solid;
    overflow: hidden;
    position: absolute;
    height: 105px;
    width: 100px;
}
.CharImage img {
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
    object-fit: contain !important;
    z-index: 2;
}
.CharImageText {
    top: 0;
    right: 0;
    position: absolute;
    height: 100%;
    width: 100%;
}
.CharImageText {
    color: var(--color-dark-white);
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}
#characterDetails .CharImage, #characterDetails .CharImageText {
    top: 0px;
    width: 155px;
    height: 158px;
}

.textSection {
    width: 65px !important;
    font-size: 8pt !important;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    margin-left: 5px;
    font-weight: bold;
    overflow: hidden;
}
.CharMediumNotes {
    height: 50px !important;
    margin: 0 !important;
}
.CharBigNotes {
    display: flex;
    align-items: center;
    flex-direction: column;
    margin-left: 15px;
    overflow: hidden;
    height: 100px !important;
    padding: 5px;
}
.CharBigNotes textarea {
    height: 100% !important;
    width: 100% !important;
    margin: 0px !important;
    padding: 5px !important;
    display: inline-block;
    border-radius: 5px;
}
.CharAge, .CharHeight, .CharOrigin, .CharJob {
    max-width: 95px;
    margin-left: -3px;;
    text-overflow:ellipsis;
}
#CharExtra, #distortExtra {
    padding-top: 10px;
    margin-left: 5px;
    padding-right: 11px;
}
#CharExtra div {
    color: var(--color-gray);
}
#CharExtra div, #CharExtra textarea, #distortExtra div, #distortExtra textarea {
    width: 100% !important;
}
#characterDetails .CharSmallNotes {
    width: 175px !important;
}
#DistortionName, #CharacterName {
    width: 150px !important;
}
#characterDetails .CharDetail {
    width: 330px !important;
}
#CharExtra .textSection, #distortExtra .textSection {
    margin-left: 10px;
    margin-top: 5px;
    margin-bottom: 5px;
}
/* ===== Character profile END ===== */




/* ===== Distortion profile ===== */
.distortProfile {
    background-color: var(--color-darker-gray);
    color: var(--color-lighter-gray) !important;
}

.distortProfile .CharImage {
    background-color: var(--color-darker-gray);
    border: 2px var(--color-darker-gray) solid;
    top: 30px;
}
.distortProfile .textSection {
    color: #777;
}
.distortProfile .whiteInput, .distortDescInput, .distortEffectInput {
    color: #bbb;
    border: none;
    scrollbar-color: var(--color-light-gray) var(--color-gray) !important;
    font-weight: normal;
    background-color: var(--color-gray) !important;
}
.distortEffectInput, .distortDescInput {
    border-left: 2px var(--color-darker-gray) solid; 
    border-right: 2px var(--color-darker-gray) solid; 
    border-top: 1px var(--color-darker-gray) solid;
    border-bottom: 1px var(--color-darker-gray) solid;
}
.distortionDice .dicerollBlock {
    width: 85px;
    margin-left: 2px;
    margin-right: 2px;
}

/* The distort button */
.distortIcon {
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Distort.png');
}
.profileHeader input[type=checkbox] {
    display:none;
}
.profileHeader input[type=checkbox] + label {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 30px !important;
    width: 30px !important;
    display:inline-block;
    padding: 0 0 0 0px;
    opacity: 20%;
}
.profileHeader input[type=checkbox]:checked + label {
    opacity: 30%;
}

/* Distortion work preference and observation levels */
#WorkCounter span {
    font-weight: bold;
}
.workPref input {
    height: 27px !important;
    width: 27px;
    font-weight: bold !important;
    font-size: 14pt;
    margin: 3px;
}
.observationSelect span {
    font-size: 9px;
}
.observationSelect .columnAlign {
    width: 50%;
}
.observationSelect label {
    color: #888 !important;
}
/* ===== Distortion profile END ===== */




/* ===== Sheet tabs ===== */
.toggleButtons {
    height: 60px;
    min-width: 800px;
    max-width: 860px;
}
.toggleButtons button {
    height: 100%;
    width: 100%;
    display: flex;
    font-size: 16pt;
    font-weight: bold;
    border-radius: 5px 5px 0px 0px;
    align-items: center;
    justify-content: center;
    background-color: var(--color-darker-gray);
    color: #888 !important;
}

/* Show only the contents of the selected tab */
.sheet-equipment,
.sheet-skills,
.sheet-details,
.sheet-edit,
.sheet-export {
    display: none;
}
.sheet-tabstoggle[value="equipment"] ~ div.sheet-equipment,
.sheet-tabstoggle[value="skills"] ~ div.sheet-skills,
.sheet-tabstoggle[value="details"] ~ div.sheet-details,
.sheet-tabstoggle[value="export"] ~ div.sheet-export,
.sheet-tabstoggle[value="edit"] ~ div.sheet-edit {
    display: block;
}

.sheet-tabstoggle[value="equipment"] ~ div #equipmentButton,
.sheet-tabstoggle[value="skills"] ~ div #skillsButton,
.sheet-tabstoggle[value="details"] ~ div #detailsButton,
.sheet-tabstoggle[value="export"] ~ div #exportButton,
.sheet-tabstoggle[value="edit"] ~ div #editButton {
    color: var(--color-LIGHT) !important;
    background-color: var(--color-gray);
}
/* ===== Sheet tabs END ===== */




/* ===== Status bars ===== */
/* A status bar consists of a Cstat (current stat), mstat (max stat) and background banner */
.bars {
    position: relative;
    background-color: var(--color-darker-gray);
    width: 90px !important;
    height: 37px;
    border-radius: 5px;
}
.banner {
    text-align: left;
    font-weight: bold;
    padding: 5px;
    width: 50%;
    height: 50px;
    color: var(--color-white);
    text-transform: uppercase;
}
.Cstat, .Mstat {
    position: absolute; 
    height: 100% !important; 
    font-size: 16pt; 
    font-weight: bold;
}
.Cstat {
    width: 125% !important; 
    color: var(--color-darker-gray); 
    background-color: transparent !important; 
    padding-left: 5px;
    top: 0;
    left: 0;
    z-index: 5;
    opacity: 80%;
}
.Mstat {
    width: 50% !important; 
    color: rgba(0,0,0,0.5);
    top: 0; 
    right: 0; 
    text-align: center; 
    border-radius: 0px 3px 3px 0px;
    z-index: 10;
}
.distortProfile .bars {
    width: 65px !important;
    height: 25px !important; 
    background-color: transparent;
    opacity: 70%;
}
.distortProfile .Cstat {
    width: 130% !important;
    font-size: 14pt;
    opacity: 100%;
}
.distortProfile .Mstat {
    font-size: 14pt;
    border-left: 2px var(--color-HP) dotted;
    background-color: var(--color-black);
    position: absolute;
    top: 0;
    right: 0;
    z-index: 20;
}

/* Blue border for Temporary HP and ST */
.bars:has(> .style-toggle-rev:not(:checked)) {
    border: 2px solid var(--color-TEMP) !important;
    top: -3px;
    left: -3px;
    z-index: 1;
}
.bars:has(> .style-toggle-rev:checked) {
    border: 0px !important;
}
.banner:has(.style-toggle-rev:not(:checked)) span {
    position: relative;
    top: -1px;
    z-index: 2;
}
/* ===== Status bars END ===== */




/* ===== Character stats ===== */
.statBlock {
    margin: 3px;
    width: 100px;
    overflow: hidden;
    border-radius: 3px;
}
.statHeader {
    background-color: var(--color-black);
    font-weight: bold;
    padding: 0px;
    padding-bottom: 5px;
}
.statImage {
    background-color: var(--color-black);
    position: relative;
    overflow: hidden;
    height: 60px;
}
#InstinctStat { background-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0)), url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/stats/Instinct.png'); }
#WisdomStat { background-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0)), url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/stats/Wisdom.png'); }
#JusticeStat { background-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0)), url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/stats/Justice.png'); }
#CharmStat { background-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0)), url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/stats/Charm.png'); }
#InsightStat { background-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0)), url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/stats/Insight.png'); }
#TemperanceStat { background-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0)), url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/stats/Temperance.png'); }

.statInput {
	position: absolute;
	height: 100%;
	width: 100%;
	top: 0;
	left: 0;
	background-size: cover;
	background-repeat: no-repeat;
	background-position: bottom-left;
	background-size: 100%;
}
.statInput input {
	text-align: center;
	height: 100% !important;
	width: 100% !important;
	background-color: rgba(0,0,0,0.6) !important;
	font-weight: bold;
	font-size: 25pt;
}


/* Stat roll buttons */
button[type=action].challengeButton {
	font-size: 9pt !important;
	background-color: transparent !important;
	height: 25px;
	overflow:hidden;
	width: 70px;
	background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0));
    font-weight: bolder;
    text-align: center;
	text-decoration: none;
	text-shadow: none;
	border: 1px rgba(256,256,256, 0.3) solid;
	box-shadow: none !important;
	padding: 0px !important;
}
button[type=action].challengeButton:hover{
	opacity: 80%;
}
button[type=action].challengeButton::before {
    display: none;
}


/* Roll helpers */
.rollHelpersContainer {
    margin: 3px;
    width: auto;
    justify-content: space-between;
}
.expand-toggle:checked ~ .darkButton.whisper {
    border: 1px var(--color-LIGHT) solid;
    opacity: 60%;
}
.darkButton.whisper {
    width: 65px;
    height: 24px;
    padding: 0;
    background-size: contain;
    background-position: center;
    margin-top: 3px !important;
}
.difficultyInput {
    height: 25px !important; 
    width: 65px !important; 
    font-size: 12pt; 
    text-align: center; 
    margin-top: 3px !important; 
    margin-bottom: 0px;
}
.disadvCounter {
    border: 2px var(--color-HP) solid !important;
    margin-left: 0;
}
.disadvCheck {
    height: 30px !important;
    accent-color: var(--color-HP) !important;
}
.advCounter {
    border: 2px var(--color-light-green) solid !important;
}
.advCheck {
    height: 30px !important;
    accent-color: var(--color-light-green) !important;
}

/* Currently unused */
.power {
    text-align: center !important;
    font-weight: bold;
    border: 1px #666 solid !important;
    margin-bottom: 2px !important;
    width: 25px !important;
}
/* ===== Stats END ===== */




/* ===== Damage helper ===== */
.damageHelperContainer b {
    display: inline-block;
    max-width: 80%;
    opacity: 30%;
    font-size: 9pt;
}
.damageHelperContainer input[type=number] {
    height: 50px !important;
    text-align: center;
    font-size: 16pt;
    font-weight: bold;
    opacity: 80%;
    margin-top: 3px !important;
}
.baseDamage, .flatDamage, .applyDamage {
    margin-top: 2px;
}
.baseDamage { width: 55px; }
.flatDamage, .applyDamage { width: 55px; }

.baseDamage input {
    width: 50px !important;
    border-top: 2px solid var(--color-HP) !important;
    border-left: 2px solid var(--color-HP) !important;
    border-right: 2px solid var(--color-STGR) !important;
    border-bottom: 2px solid var(--color-STGR) !important;
}
.flatDamage input {
    width: 45px !important;
}
.flatHPInput, .flatSTInput {
    text-align: left !important;
    padding-right: 2px;
    padding-left: 8px;
}
.flatHPInput {
    border: 2px solid var(--color-HP) !important;
}
.flatSTInput {
    border: 2px solid var(--color-STGR) !important;
}

.damageHelperType input[type=radio] {
    display: none;
}
.damageHelperType label {
    height: 30px;
    width: 30px;
    margin: 0px;
    padding: 0px;
    opacity: 30%;
}
.damageHelperType input[type=radio]:not(:checked) + label:hover {
    opacity: 60% !important;
    cursor: pointer;
}
.damageHelperType input[type=radio]:checked + label {
    opacity: 100%;
}
/* When no damage type is selected, the apply damage button should be unuseable */
.applyDamageInput {
    opacity: 60%;
    cursor: default;
    height: 50px; 
    min-width: 50px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    margin-top: 2px; 
    background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/damage.png');
    border-radius: 5px;
    background-color: var(--color-dark-gray) !important;
    border: 1px var(--color-darker-gray) solid;
    pointer-events: none;
}
.damageHelperType:has(input:checked:not([value="None"])) ~ .applyDamage .applyDamageInput {
    opacity: 100%;
    pointer-events: auto;
}
.damageHelperType:has(input:checked:not([value="None"])) ~ .applyDamage .applyDamageInput:hover {
    background-color: var(--color-black) !important;
    cursor: pointer;
}
/* ===== Damage helper END ===== */




/* ===== Status ailments ===== */
#ailmentBlock .contentContainer {
    padding-top: 10px;
	padding-bottom: 10px;
}

.ailmentIconSelector, .ailmentIconSelector .icon, .ailmentIconSelector .skillIcon {
    height: 25px;
    width: 25px;
}

.status_effect_item {
	width: 30px;
}
.status_effect_value {
    width: 52px;
    height: 26px;
    text-align: center;
    border-radius: 5px;
}
.ailmentButton {
    background-color: transparent;
    width: 25px !important;
}
.ailmentNum {
    color: var(--color-white);
    font-weight: bold;
    background-color: transparent !important;
    padding-left: 1px;
    text-align: left;
}
.ailmentNumThisTurn, .ailmentNumDecayPause {
    width: 30px !important;
    padding-right: 0px;
    position: absolute;
    left: 3px;
}
.ailmentNumDecayPause {
    color: var(--color-SAN);
}
.ailmentNumNextTurn {
    color: var(--color-lighter-gray);
    width: 28px !important;
    padding-right: 0px;
    position: absolute;
    left: 25px;
}
/* If the next turn field is disabled by a hide toggle (Burn/Bleed/Smoke/Charge individual setting) or by a hide toggle rev (Global setting) the standard field is returned to it's normal styling */
.status_effect_value .hide-toggle:not(:checked) ~ .ailmentNumThisTurn,
.status_effect_value .hide-toggle-rev:checked ~ .ailmentNumThisTurn,
.ailmentNumDecayPause {
    width: 45.5px !important;
    padding-right: 4px;
}
/* This lengthy boi disables interacting with the next turn field while selecting or hovering over the current turn field (the fields partially overlap) */
:is(.ailmentNumThisTurn:hover, .ailmentNumThisTurn:focus) + :is(.ailmentNumNextTurn) {
    pointer-events: none;
    z-index:-1;
}
/* When ctrl-clicking an ailment icon the decay field is reveal. "reveal-DecayPause" is set via JQuery */
.ailmentNumDecayPause:not(.reveal-DecayPause) {
    display: none;
}
:is(.ailmentNumNextTurn, .ailmentNumThisTurn):has(~ .reveal-DecayPause) {
    display: none !important;
}


/* Automated state detection icons */
.ailmentStates .statusIcon {
    width: 35px;
    height: 35px;
}
.ailmentStates input[type="checkbox"] {
    display: none;
}
.ailmentStates label {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    padding: 3px;
}
#state_Stagger, #state_Panic, #state_Defeat, #state_Immobile {
    display: hidden !important;
}
#state_Stagger:checked, #state_Panic:checked, #state_Defeat:checked, #state_Immobile:checked {
    accent-color: var(--color-light-gray);
    opacity: 100%;
}


/* Custom ailments display */
.ailmentCustomDisplay .repcontainer {
    display: flex;
    flex-wrap: wrap;
    overflow: hidden;
}
.ailmentCustomDisplay .repitem  {
    display: inline-block;
    flex-basis: 33.33%;
    min-width: 83.2px;
    overflow: hidden;
}
/* ===== Status ailments END ===== */




/* ===== Combat options ===== */
.combatOptionsContainer {
    margin-bottom: 5px;
    gap: 4px;
    flex-wrap: wrap;
}
.combatOptionsContainer .helpers {
    margin-left: 0;
    margin-right: 0;
}
.combatOptionsContainer b {
    display: inline-block;
    margin-bottom: 2px; 
}


/* Combat options - Targeting and Defence */
.targetAndDefenceContainer .hide-item.rowContainer {
    gap: 5px;
}
.targetAndDefenceContainer .tokenName {
    display: inline-block;
    width: 100%;
    height: 12px !important;
    padding: 0;
    margin-bottom: 2px; 
    font-size: 9pt;
    font-weight: bold;
    text-align: center;
    opacity: 30%;
    color: var(--color-white);
    background-color: transparent;
    pointer-events: none;
}
.targetAndDefenceContainer .tokenName::placeholder {
    opacity: 100% !important;
}
.targetAndDefenceContainer :is(img[src=""], img:not([src])) {
    display: none;
}
.targetAndDefenceContainer :is(img[src=""], img:not([src])) + input[type="number"] {
    display: none;
}
.targetAndDefenceContainer .bars {
    height: 24px;
    background-color: var(--color-dark-gray);
}
.targetAndDefenceContainer .bars.bars:not(:first-child) {
    margin-left: 2px;
}
.targetAndDefenceContainer .Cstat {
    width: 100% !important;
    font-size: 12pt;
    pointer-events: none;
}

.selectTargetButton, .targetToken {
    height: 44px; 
    width: 44px;
}
.selectTargetButton {
    float: left;
    padding: 3px;
    border-radius: 5px;
}
.selectTargetButton:has(img[src^="http"]) {
    border-color: rgba(var(--color-rgb-LIGHT), 0.6);
}
.selectTargetButton img[src^="http"] ~ .selectTargetIcon {
    display: none;
}
.targetToken {
    opacity: 0.8;
}
.selectTargetIcon {
    height: 50px; 
    width: 50px;
    position: absolute;
    bottom: 0;
    left: 0;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/target.png');
}

/* Last defence dice display */
.defenceDice {
    height: 52px !important;
    width: 52px !important;
    padding: 4px;
    font-size: 20px;
    text-shadow: var(--color-black) 0 0 3px, var(--color-black) 0 0 10px;
    text-align: center;
    border: 1px var(--color-darker-gray) solid !important;
    border-radius: 5px;
    background-color: var(--color-dark-gray) !important;
    background-size: 45px;
    background-position: 45% 45%;
    background-repeat: no-repeat;
    background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoDef.png');
}


/* Combat options - Action and regen trackers */
.resourceContainer {
    height: auto !important;
    gap: 4px;
}
.resourceTracker {
    width: auto !important;
    border-radius: 3px;
    background-color: var(--color-dark-gray);
}
.resourceTracker :is(.resourceCurrent, .resourceMax, .resourceBase, .resourceTypeSelector) {
    background-color: transparent;
    height: 20px !important;
    padding: 0;
    color: white;
    font-weight: bold;
    font-size: 12pt;
    appearance: textfield;
}
.resourceTracker .resourceCurrent {
    float: left;
    width: calc(40% + 4px) !important;
    padding-left: calc(5% - 2px) !important;
}
.resourceTracker .resourceMax {
    position: absolute;
    background-color: var(--resource-color);
    right: 0;
    width: calc(55% - 13px) !important;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    text-align: center;
    color: rgb(0, 0, 0, 0.5);
}
.resourceTracker .resourceBase {
    width: calc(95% - 9px) !important;
    padding-left: calc(37% - 8px);
}
.resourceTypeSelector {
    width: 20px !important;
    margin: 0 !important;
    background-size: 22px;
    background-position: left;
    background-repeat: no-repeat;
    cursor: pointer;
    padding-right: calc(15% - 6px) !important;
}
.resourceButton {
    height: 18px !important;
    width: 18px !important;
    min-width: 18px;
    padding: 0 !important;
}
.resourceTracker:has(input[type=radio]:checked)::before {
    content: " ";
    position: absolute;
    top: 0;
    left: 0;
    height: 20px;
    width: 100%;
    box-sizing: border-box;
    border: 1px solid var(--resource-color);
    border-radius: 3px;
    pointer-events: none;
    z-index: 5;
}
#editResourceToggle:checked + div :is(.resourceCurrent, .resourceMax) {
    display: none !important;
}
#editResourceToggle:not(:checked) + div .resourceBase {
    display: none !important;
}
.resourceTracker:has(.reaction) { --resource-color: var(--color-darker-white); }
.resourceTracker:has(.egoSpecial) { --resource-color: var(--color-orange); }
.resourceTracker:has(.egoAtt) { --resource-color: var(--color-red); }
.resourceTracker:has(.egoDef) { --resource-color: var(--color-blue); }
.resourceTracker:has(.egoEvd) { --resource-color: var(--color-STGR); }

.resourceContainer:has(.hide-toggle-rev-next[name="attr_settingActionTracker"]:checked) .resourceTracker:has(.light) {
    width: 265px !important;
}
.resourceTracker .hide-toggle:not(:checked) ~ label.hide-item {
    display: none !important;
}


/* Combat options - Combat toggle */
.combatToggleContainer {
    width: auto;
}


/* Generic token mode display */
.genericTokenContainer {
    position: fixed;
    bottom: 0px;
    left: 0%;
    width: calc(99% - 14px);
    z-index: 999;
    padding: 5px;
    background-color: #1F1F1F !important;
}
#genericTokenModeToggle + .genericTokenContainer {
    display: none !important;
}
#genericTokenModeToggle:checked + .genericTokenContainer {
    display: flex !important;
}
.genericTokenInstanceContainer {
    resize: vertical;
    max-height: 450px;
    min-height: 150px;
    overflow-y: auto;
}
.genericTokenInstanceContainer .repcontainer {
    display: flex;
    flex-wrap: wrap;
    max-width: calc(99% - 64px);
}

/* Generic token controls */
.genericTokenSelectButton {
    position: absolute;
    top: -2px;
    left: -2px;
    height: 20%;
    width: calc(100% + 2px);
    background-color: transparent;
}
.genericToken_controls {
    justify-content: space-around;
    width: 50px;
    height: 130px;
    margin: 10px 5px 10px 5px;
}
.genericToken_controls button {
    background-color: transparent;
}

/* Individual generic tokens */
.genericToken {
    height: 130px;
    width: 120px;
    margin: 5px;
}
.style-toggle:checked + .genericToken {
    height: 126px;
    border: 2px solid #666;
}
.genericToken .tokenName {
    background-color: transparent;
    color: var(--color-lighter-gray);
    width: 100%;
    padding: 0;
    pointer-events: none;
    overflow: ellipsis;
}
.genericToken .bars {
    width: 100px !important;
    height: 20px;
}
.genericToken .bars:not(:first-child) {
    margin-top: 2px;
}
.genericToken :is(.Cstat, .Mstat, .Tstat) {
    font-size: 12pt;
}
.genericToken .Mstat{
    width: 33% !important;
    padding: 4px 2px 4px 2px;
}
.genericToken .Tstat {
    width: auto !important;
    left: 30px;
    z-index: 3;
}
.tokenAilment, .targetAilment {
    width: 25px;
    height: 25px;
    margin-top: 2px;
}
.targetAilment {
    pointer-events: none;
}
:is(.tokenAilment, .targetAilment) img {
    position: relative;
    opacity: 90%;
    left: 0;
    width: 25px;
    height: 25px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 1;
}
:is(.tokenAilment, .targetAilment) input[type="number"] {
    position: relative;
    top: -25px;
    left: -2px;
    background-color: transparent;
    color: var(--color-white);
    font-weight: bold;
    text-shadow: var(--color-black) 0 0 3px, var(--color-black) 0 0 5px, var(--color-black) 0 0 10px;
    padding-left: 2px;
    text-align: center;
    z-index: 2;
}
.tokenAilment input[type="number"]:not(:hover):not(:focus) {
    width: 31px !important;
}
.tokenAilment input[type="number"]:focus, .tokenAilment input[type="number"]:hover {
    width: 3.5em;
}
/* ===== Combat options END ===== */




/* ===== Combat palette ===== */
.combatPaletteName {
    max-width: 100px;
    margin-left: 35px !important;
    font-size: 9pt;
}
.paletteButton input {
    background-color: transparent !important;
}
.paletteDiceContainer {
    justify-content: flex-end; 
    align-items: center; 
    height: 100%; 
    margin: 0; 
    position: relative;
}
.paletteButton {
    height: 30px;
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 3px;
}
.paletteDice {
    overflow: hidden; 
    width: 60px; 
    height: 30px; 
    padding-left: 2px;
    padding-right: 3px;
    margin-left: 1px;
}
.paletteDice * {
    margin: 0 !important;
    padding: 0 !important;
    font-size: 9.5pt !important;
    height: 100% !important;
    width: 17px !important;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center !important;
    color: var(--color-white) !important;
    font-weight: bold !important;
}
.paletteDice .plainText { 
    opacity: 70%;
    width: 5px !important;
    pointer-events: none;
}
.paletteButton .BDice, .paletteButton .NDice {
    margin-top: 3px;
    margin-left: 4px;
    margin-right: 3px;
}
:is(.outfit, .STGR).paletteButton .iconHolder {
    margin-left: -1px;
}
:is(.outfit, .STGR).paletteButton .typeIcon {
    margin-left: -1px;
}
.blocker {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 4;
}


/* Skill / tool selection (old) */
.skillSelectionElement .icon, .skillN .icon, .skillE .icon {
    border-radius: 100px;
    overflow: hidden;
    height: 30px;
    width: 30px;
    border: 1px var(--color-white) solid;
}
.skillSelectionElement img, .skillIcon, .skillE img {
    height: 30px;
    width: 30px;
}
.toolSelect {
    height: 50%; 
    overflow-y: auto; 
    overflow-x: hidden;
    width: 100%; 
    flex-wrap: wrap; 
    z-index: 90;
    position: absolute;
    width: 125%;
    bottom: 0;
    margin-left: 15px;
}
.declare {
    height: 23px;
    padding: 3px;
    border-radius: 3px;
    color: var(--color-white) !important;
    background-color: var(--color-dark-gray) !important;
    border: 1px var(--color-darker-gray) solid;
    font-weight: bold;
    min-width: 40px;
}
.noHover{
    cursor: text !important;
    background-color: var(--color-dark-white) !important;
}

/* Skill / tool selection (newer) */
.skillSelectionLabel .icon input[type='checkbox'] {
    display: none !important;
}
.skillSelectionElement .skillSelector {
    opacity: 0% !important;
}
.skillhide {
    overflow: hidden; 
    position: relative; 
    border-radius: 100px;
    border: 1px var(--color-light-gray) solid;
    margin-left: 2px;
    margin-right: 2px;
    width: 125px;
    height: 32px;
}
.skillBuffer {
    max-width: 49%;
    overflow: hidden;
}
.skillSelectionLabel {
    background-color: transparent;
    color: var(--color-white);
    position: absolute; left: 0; width: 100%; top: 0; height: 100%; z-index: 10;
    border-radius: 100px 100px 100px 100px;
    opacity: 60%;
    width: 125px;
}
.skillSelectionLabel input {
    color: var(--color-white);
}
.skillSelector:not(:checked) + .skillSelectionLabel:hover {
    background-color: rgba(0, 0, 0, 0.3) !important;
}
.skillSelector:checked ~ .skillSelectionLabel {
    background-color: var(--color-light-gray);
    opacity: 100%;
}
.toolSelectHolder {
    display: flex; position: relative; width: 30px; height: 30px;
    border: 1px transparent solid; 
    border-radius: 5px; 
    overflow: hidden;
}
.toolSelectHolder type-image {
    position: absolute; left: 0px; top: 0px; height: 100%; width: 100%; z-index: 0;
}
.toolSelectBox {
    text-align: center; 
    font-weight: bold; 
    position: absolute; 
    left: 9px; 
    top: -5px; 
    z-index: 2;
    width: 100%;
    opacity: 80%;
}
.blocker .toolBlocker {
    background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0));
    border-radius: 5px;
}
.weaponBlocker {
    background-color: rgba(0,0,0,0.5); 
    color: var(--color-white); 
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 25;
}
.skillSelectionElement {
    position: relative;
    display: flex;
    align-items: center;
    height: 32px;
    width: 100%;
}
.skillSelectionElement .skillSelectionName {
    width: 100%;
    height: 100%;
    font-weight: bold;
    margin-left: 30px !important;
    margin-top: 3px;
}
.paletteOverride {
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 100%;
    height: 1px;
    z-index: 20;
}


/* Mystery combat palette elements */
.egoDefPalette, .egoEvdPalette, .egoAttPalette {
    background-color: var(--color-black);
    overflow: hidden;
}
.egoDefPalette input, .egoDefPalette .plainText {
    color: var(--color-SAN) !important;
}
.egoEvdPalette input, .egoEvdPalette .plainText {
    color: var(--color-ego-STGR) !important;
}
.egoAttPalette input, .egoAttPalette .plainText {
    color: var(--color-HP) !important;
}
.paletteOverride .hide-item {
    width: 100%;
}
.hide-item.tool {
    width: 45px;
}


/* Weapon uses */
.weaponSlot {
    max-height: 35px;
}
.weaponSlot .paletteButton, .weaponSlot .hide-toggle-rev, .weaponSlot .hide-item-rev {
    height: 30px !important;
    overflow: hidden !important;
}
.paletteRange {
    font-weight: bold;
    color: var(--color-white);
    text-align: center;
    overflow: hidden;
    width: 30px;
    height: 30px;
    position: relative;
    margin-left: 5px;
}
.paletteRange .buffer {
    width: 100% !important;
    position: absolute; top: 0; right: 0;
    width: 30px !important;
    height: 30px !important;
    display: flex;
    align-items: center;
    justify-content: center;
}
.weaponPaletteUses {
    width: 30px; 
    height: 30px; 
    position: absolute; 
    top:0px;  
    right: 99px;
    z-index: 24;
    opacity: 70%;
}
.weaponPaletteUses input {
    color: var(--color-white) !important;
}
/* ===== Combat palette END ===== */




/* ===== Equipment and Skills ===== */

/* Roll buttons around the character sheet. See Dice Roll Blocks for the roll template input fields */
.NDice, .NDice{
    background-color: var(--color-gray);
    font-weight: bolder;
    font-size: 0px;
    width: 23px !important;
    height: 23px !important;
    padding: 0.0em;
    border: 1px solid var(--color-black);
    border-radius: 5px;
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/buttondice.png');
    overflow: hidden;
	line-height: 100;
	margin-left: 5px;
	margin-right: 2px;
}

/* Dice roll blocks, aka anything in the format "xdx+x". Not to be confused with the block reaction */
.combatDice{ text-align: center; justify-content: end; align-items: center; margin-right: 3px; }
.dicerollBlock {
    display: flex;
    height: 100%;
    justify-content: end;
    width: 90px;
    align-items: center;
    background-color: rgba(0,0,0,0.2);
    border-radius: 5px;
}
.dicerollBlock .plainText {
    width: 8px;  
    color: var(--color-white);
    text-align: center;
    opacity: 70%;
    font-weight: bold;
}
.dicerollBlock input {
    width: 26px;
    background-color: transparent;
    color: var(--color-white);
    font-weight: bold;
    font-size: 12pt; 
}
.dicerollBlock input:first-child {
    width: 23px;
}
.diceNum {
    text-align: right !important;
}
.diceVval {
    text-align: left !important;
}


/* General equipment */
.weaponContainer, .outfitContainer, .toolContainer, .egoSkillContainer, .skillContainer {
    width: 100%;
    max-width: 400px;
    display: flex;
    align-items: start;
    justify-content: start;
    position: relative;
    padding: 5px;
    flex-wrap: wrap;
}
.weaponDescriptionInput, .weaponEffectInput, .outfitDescription, .outfitDescriptionInput, .augmentDescriptionInput {
    position: relative;
    margin-bottom: 0px;
}
/* Icons used for equipment and skills */
.iconHolder {
    height: 35px;
    width: 45px;
}
.iconHolder img {
    height: 35px;
    width: 35px;
}
.type-image{
    text-align: center;
}
.icon .type-image, .resIconRight .type-image, .resIconLeft .type-image {
    opacity: 0;
}

/* Dropdown menues in top right corner of augments and special items */
.topRight {
    width: 140px;
    height: 25px;
    position: absolute;
    right: 5px;
    text-align: center;
    top: 5px;
}


/* Weapons */
.weaponIcons {
    width: 35px;
    min-width: 35px;
    height: 35px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    overflow: hidden;
    position: relative;
}
.weapon_distance, .weapon_type {
	height: 25px;
	width: 50% !important;
	text-align: center;	
}
.weapon_type {width: 90px !important; height: 25px; margin-right: 5px;}
.weaponPropertySelect, .weaponRangeBox{
    color: var(--color-white) !important;
    border-radius: 0px 0px 5px 0px;
    padding: 4px;
    height: 25px;
    position: absolute;
    top: 30px;
    left: 0;
    z-index: 1;
}
.weaponPropertySelect {
    width: 190px;
    display: flex;
    align-content: flex-start;
    justify-content: flex-start;
}
.weaponRangeBox {
    width: 190px;
    border-radius: 0px 0px 0px 5px;
    left: auto;
    right: 0;
}
.weaponRangeBox select, .weaponPropertySelect select{
    width: 70px;
}
.weaponDescription, .weaponEffect {
    width: 50%;
}
.weaponDescriptionInput {
    height: 70px !important;
}
.weaponDescription span, .weaponEffect span {
    height: 10px;
    padding: 0 !important;
}
.descHead {
    height: 28px !important;
    display: flex;
    align-items: center;
    justify-content: center;
}
/* Removes the spacing between weapons if only two weapons are displayed (aka. the hide-toggle for extra weapons is unchecked) */
.weaponContainer .contentContainer:has(+ .hide-toggle):has(+ :not(:checked)) {
    margin-top: 0px !important;
}


/* Outfits */
.outfitDescriptionInput {
    height: 60px !important;
}
.resistanceChart {
    flex-wrap: wrap;
    min-width: 50%;
    max-width: 100%;
}
.resistanceChart img, .resistanceChart select {
    margin: 0; padding: 0;
}
.resistanceChart img {
    height: 30px !important;
    width: 30px !important;
}
.resistanceChart select {
    width: 55px !important;
    appearance: none;
    text-indent: 3px;
    border: 1px solid #c3c3c3;
}
.outfitResistVal {
    width: 45px;
    text-align: center;
}
.resIconLeft {
    position: absolute;
    top: 0;
    left: 10px;
}
.resIconRight {
    position: absolute;
    top: 0;
    right: 10px;
}
.evadeIcon, .evadeIcon img {
    height: 30px;
    width: 30px;
}
.evadeAdjust {
    height: 25px;
    margin-left: 1px;
}


/* Tools */
.toolName {
    width: 95px;
}
.tool input[type=checkbox] + label {
    height: 30px !important;
    width: 30px !important;
    display:inline-block;
    padding: 0 0 0 0px;
    margin: 0px;
    opacity: 30%;
}
.tool input[type=checkbox] + label:hover {
    opacity: 50%;
}
.tool input[type=checkbox]:checked + label {
    opacity: 100%;
}
.toolDescriptionInput {
    height: 65px !important;
    margin-bottom: 2px !important;
}
.tool input[type=checkbox] {
    display:none;
}
.toolDescriptionInput {
    height: 65px !important;
    margin-bottom: 2px !important;
}


/* Augments */
.augmentBlock {
    margin-top: 10px;
}


/* Skills */
.skillName {
    width: 140px;
    margin-left: 40px;
}
.skillType {
    width: 100%;
    margin-right: 5px;
    height: 25px !important;
    color: var(--color-white) !important;
}
.skillRank {
    position: absolute;
    top: 3px;
    left: 6px;
    z-index: 20;
    width: 30px;
    height: 30px !important;
    border-radius: 100px;
    text-shadow: rgba(0,0,0,1) 0px 0px 5px;
    background-image: linear-gradient(to bottom, rgba(0,0,0,0.5), rgba(0,0,0,0));
    background-color: rgba(0,0,0,0) !important;
    color: var(--color-white);
    text-align: center;
    font-size: 14px;
    font-weight: bold;
}
.lightCost {
    color: var(--color-LIGHT);
    font-weight: bold;
    float: right;
}
.lightCost input {
    background-color: var(--color-LIGHT) !important;
    border-radius: 100px;
    color: rgba(0,0,0,0.5);
}
.skillN .icon, .skillE .icon {
    margin-top: 2px !important;
    margin-left: 5px !important;
}
/* Ego skills */
.skillE .icon {
    border: 1px #888 solid !important;
}


/* Special items */
.specialBlock {
    margin: 5px;
}
.specialDescriptionInput {
    margin-bottom: 0px !important;
}
.specialColumn {
    color: rgba(0,0,0,0.5);
    font-weight: bold;
    text-align: left;
    padding-left: 5px;
    padding-right: 5px;
    margin-bottom: 0 !important;
    margin-top: 7px;
    width: 140px;
}
.specialInput {
    width: 140px;
}


/* Mysteries (E.G.O) */
.egoDescInput {
    height: 60px;
}
.egoIdeologyInput {
    width: 100% !important; 
    height: 25px !important; 
    margin-bottom: 3px !important;
}
.egoSpecialLabel span {
    width: 150px;
    height: 20px;
    text-align: left;
    padding-left: 10px;
}
.egoSpecialLabel select {
    margin-right: 5px;
}
.resistanceChart.BLACK select {
    border: 1px solid var(--color-black)
}
.egoContainer select:focus {
    background-color: rgba(50, 50, 50, 0.4) !important;
}
.egoCheck {
    position: absolute !important;  
    top: 10px; 
    right: 5px; 
    height: 20px !important; 
    width: 20px !important; 
}


/* Repeating inventory and skills */
.itemContainer {
    background-color: var(--color-dark-gray);
}
.itemContainer .contentHeader {
    flex-basis: auto;
    background-color: transparent;
}

/* Controls */
#itemSettings:has(#hideItemSettings:checked) ~ div .itemContainer :is(.repcontrol_header, .repcontrol, .itemcontrol) {
    display: none;
}

/* A custom add and delete button are used instead of the default ones */
.itemContainer :is(.repcontrol .repcontrol_add, .itemcontrol .repcontrol_del) {
    display: none !important;    
}
.repcontrol_header .repcontrol_add {
    pointer-events: auto;
}
.itemContainer .repcontainer.editmode .itemcontrol + .repcontrol_del {
    display: block !important;
}

.itemContainer .repcontrol {
    position: absolute;
    display: flex;
    z-index: 20;
    top: 4px;
    right: 36px;
}
.itemContainer :is(.repcontrol_edit, .repcontrol_add, .repcontrol_del, .repcontrol_move) {
    min-width: 20px;
    margin: 0;
    background-position: center;
    background-repeat: no-repeat;
    background-size: contain;
}
.itemContainer :is(.repcontrol_edit, .repcontrol_add) {
    font-size: 0;
    background-color: #161616;
}
.itemContainer :is(.repcontrol_del, .repcontrol_move) {
    position: absolute;
    height: 25px;
    width: 45px;
    z-index: 20;
}
.itemContainer .repcontrol_edit {
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/edit.png');
}
.itemContainer .repcontrol_add {
    background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/heal.png');
}
.itemContainer .repcontrol_del {
    right: 0;
}
.itemContainer .repcontrol_move {
    left: 0;
}

/* Item editor */
#itemEditor {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 50%;
}
.itemOptionContainer {
    padding: 5px;
}
.itemOptionContainer label {
    color: var(--color-white) !important;
    font-size: 10pt !important;
    margin-bottom: 2px;
}
.itemOptionContainer .itemOption label {
    font-size: 9pt !important;
}
.itemOptionContainer label span {
    position: relative;
    left: 10px;
}

.itemOption {
    position: relative;
    padding: 10px 0 0 10px;
}
.itemOptionContainer > .itemOption:first-of-type {
    padding-top: 0;
}
.itemOption > label input[type="checkbox"] {
    position: absolute;
    left: 0;
}
.itemOption > label:has(input[type="checkbox"]:not(:checked)) ~ * {
    display: none;
}
.itemOption > .itemOption {
    margin-left: 20px;
}

.itemOption > .itemOption::before,
.itemOption:has(+ .itemOption)::after {
    content: "";
    position: absolute;
    left: -11px;
    width: 10px;
    border-color: var(--color-light-gray);
    border-style: solid;
}
.itemOption > .itemOption::before {
    top: -2px;
    height: 17px;
    border-width: 0 0 2px 2px;
}
.itemOption:has(+ .itemOption)::after {
    bottom: 2px;
    height: calc(100% - 17px);
    border-width: 0 0 0 2px;
}

/* Item editor - Resistances */
.itemOptionContainer .defaultResistDisplay > .rowContainer {
    width: 82.34px;
}








/* AutoScript, edit, share buttons */
.autoScriptButton {
    bottom: 5px;
    right: 65px;
    background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/script.png');
}
:is(.augmentBlock, .specialBlock, .skillBlock) .autoScriptButton {
    right: 35px;
}
.shareButton {
    bottom: 5px;
    right: 5px;
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/share.png'); 
}
.editButton {
    bottom: 5px;
    right: 35px;
}


/* Edit cover. Used to modify weapon/tool uses, outfit resistances ect. */
.editCover {
    position: absolute;
    z-index: 5;
    background-image: linear-gradient(rgba(160,160,160,0.8), rgba(160,160,160,0.9), rgba(160,160,160,0.7));
    left: 0px;
    bottom: 0px;
    right: 0px;
    padding: 5px;
    min-height: 25px;
}
.editCover .settingStyle {
    color: var(--color-white);
}
.helperText:checked ~ .helperTextContainer .helpers :is(b, .helperInput) {
    display: none !important;
}
.helperText:checked ~ .damageHelperContainer.helperTextContainer :is(.slash, .pierce) {
    margin-left: -3px;
    margin-right: 28px;
}
.helperText:checked ~ .damageHelperContainer.helperTextContainer .blunt {
    position: absolute;
    top: 0px;
    left: 25px;
}
.helperText:checked ~ .damageHelperContainer.helperTextContainer .flatDamage {
    margin-left: 1px !important;
}
.editCover > .rowContainer,
.editCover > .hide-item,
.editCover > .hide-item > .rowContainer {
    position: relative;
    height: 100%;
}
/* Currently unused. Will wrap a fourth ego outfit property down to a second row */
/* If outfits ever gain more than this many properties a change should probably be made
   to a columnAligned rowContainer structure */
.distortionContainer .editCover .rowContainer .rowContainer:nth-child(n+4),
.egoContainer .editCover .rowContainer .rowContainer:nth-child(n+4) {
    position: absolute;
    left: 0;
    bottom: 0;
}


/* Outfit custom resistances */
.outfitContainer .customResistDisplay {
    width: 300px;
}
:is(.outfitContainer, .egoContainer, .distortionContainer) .editCover .columnAlign {
    align-items: normal;
    flex-direction: column;
    justify-content: start;
}
:is(.egoContainer, .distortionContainer) .editCover {
    padding-bottom: 35px;
}
.outfitContainer .editCover > .columnAlign > .rowContainer > .rowContainer, 
.egoContainer .editCover .columnAlign > .rowContainer > .rowContainer,
.distortionContainer .editCover > .columnAlign > .rowContainer > .rowContainer,
.outfitContainer .customResistDisplay .repitem:has(.hide-toggle:checked)  { width: 82.34px; }

:is(.outfitContainer, .egoContainer) .status_effect_value {
    background-color: rgba(0, 0, 0, 0.2) !important;
    border-radius: 5px;
}
:is(.outfitContainer, .egoContainer, .distortionContainer) .ailmentNum {
    text-align: center;
}
:is(.outfitContainer, .egoContainer, .distortionContainer) .status_effect_item {
    width: 25px;
    opacity: 100%;
}
.customResistDisplay .repcontainer {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
}
/* ===== Equipment and Skills END ===== */




/* ===== AutoScript ===== */
/* AutoScript editor */
#autoscriptEditor {
    top: 0px;
    left: 2%;
    width: 95%;
}


/* Styling and alias editor toggles */
:is(#autoScriptStylingDefault, #autoScriptAliasDefault, #autoScriptReturn) { display: none; }
.toggleStylingButton:checked ~ :is(#autoScriptStylingDefault, #autoScriptReturn) { display: block; }
.toggleAliasButton:checked ~ :is(#autoScriptAliasDefault, #autoScriptReturn) { display: block; }
:is(.toggleStylingButton, .toggleAliasButton):checked ~ :is(#autoScriptStyling, #autoScriptAlias) { display: none; }


/* AutoEffect conditional buttons */
.conditionalButtonDisplay .repcontainer {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
}
.conditionalButtonDisplay .repitem {
    width: 49%;
}
.conditionalButton {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border-radius: 12px;
    border: 1px var(--color-light-gray) solid;
    background-color: var(--color-green);
    margin-left: 2px;
    margin-right: 2px;
    width: 100%;
    height: 30px;
    z-index: 0;
}
.conditionalButtonAct {
    position: absolute;
    top: 0;
    left: 1px;
    width: calc(100% + 2px);
    height: 100%;
    border-radius: 12px;
    background-color: var(--color-black);
    opacity: 0.2;
    z-index: 1;
}
.conditionalButtonAct:hover {
    opacity: 0;
}
.conditionalButtonName {
    position: absolute;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
    left: 0;
    max-width: calc(95% - 34px);
    padding-left: 34px;
    font-size: 9pt;
    line-height: 1em;
    max-height: 2em;
    font-weight: bold;
    color: var(--color-white);
    z-index: 3;
}
.conditionalButtonIcon {
    position: absolute;
    pointer-events: none;
    left: 1px;
    width: 30px;
    height: 30px;
    z-index: 3;
    border-radius: 12px 0 0 12px;
    border: 1px var(--color-light-gray) solid;
}
/* ===== AutoScript END ===== */




/* ===== Settings ===== */
/* General setting (displayed by hovering over cogwheel in top-right corner) */
#settings label {
    color: var(--color-white) !important;
    font-size: 10pt !important;
}
#settings {
    width: 27px;
    height: 27px;
    position: absolute;
    top: 2px;
    right: 0px;
    background-color: rgba(0,0,0,0);
    border-radius: 5px;
    border: 1px transparent solid;
    overflow: hidden;
    color: var(--color-LIGHT);
    font-weight: bold;
    z-index: 150;
}
#settings:hover {
    height: auto;
    width: 530px;
    border: 1px var(--color-LIGHT) solid;
    border-radius: 5px 15px 5px 5px;
    background-color: rgba(0,0,0,0.8);
}
.settingsIcon {
    position: absolute;
    z-index: 5;
    top:0;
    right: 0;
    width: 25px;
    height: 25px;
    border-radius: 100px;
    border: 1px var(--color-LIGHT) solid;
}
.settingsText {
    width: 220px;
    padding: 35px;
    padding-bottom: 25px;
}
.settingsText input[type="checkbox"] {
    position: absolute;
}
.settingsText span:not(.settingsTitle) {
    position: relative;
    left: 21px;
}
.settingsTitle {
    line-height: 1.8em;
}


/* Editor tabs */
#sheetSettings, #itemSettings {
    border-radius: 0;
}
#sheetSettings h3, #itemSettings h3 {
    background-color: var(--color-gray);
    padding: 5px;
    position: relative;
}
#itemSettings .editorButtonContainer {
    padding-bottom: 5px;
}
.ailmentCustomEditor .repcontrol_move, #globalSettings .repcontrol_move {
    display: none;
}

.searchBar {
    position: absolute;
    width: 30%;
    left: 40px;
    background-color: transparent;
    box-sizing: border-box;
    border-bottom: 2px solid var(--color-lighter-gray);
}
.searchBar .searchInput {
    width: 100%;
    padding: 4px 40px 2px 22px;
    color: var(--color-LIGHT) !important;
    background-color: transparent;
}
.searchBar :is(.searchIcon, .searchClear, .searchOptions) {
    position: absolute;
    height: 20px;
    width: 20px;
    padding: 0;
    margin: 0 !important;
    background-color: transparent;
    cursor: pointer;
    opacity: 50%;
}
.searchBar .searchIcon {
    top: 2px;
    left: 0;
}
.searchBar .searchClear {
    top: 2px;
    right: 20px;
    display: none;
}
.searchBar .searchOptions {
    top: 2px;
    right: 0;
}
.searchOptionsMenu {
    width: 100%;
}
.searchBar .searchIcon:has(~ .searchInput:not(:placeholder-shown)) {
    opacity: 100%;
}
.searchBar .searchInput:not(:placeholder-shown) ~ .searchClear {
    display: inline-block;
}
.searchBar .switch-toggle:not(:checked) + .searchOptions {
    opacity: 100%;
}

.copyButton {
    top: 5px;
    right: 5px;
    background-color: transparent;
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/copy.png');
    opacity: 50%;
}
.displayButton {
    top: 5px;
    right: 35px;
    background-color: transparent;
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/view-hide.png');
    opacity: 50%;
}
.lockButton {
    top: 3px;
    left: 5px;
    border-radius: 0px;
    background-color: transparent;
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/lock-unlock.png');
    opacity: 50%;
}
.equipEditButton {
    top: 3px;
    right: 5px;
    opacity: 50%;
}
.syncIcon {
    height: 5px;
    width: 5px;
    top: 7px;
    left: 29px;
    background-color: var(--color-HP);
    border-radius: 100px;
}
.arrowholder {
    height: 30px; 
    width: auto !important;
    position: absolute; 
    top: 0px; 
    left: 45px;
    right: 0px; 
    z-index: 1;
}
.arrow {
    position: absolute; top: 12px; right: 10px;   
    width: 0px; 
    height: 0px; 
    border-bottom: none;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-top: 14px solid var(--color-white);
    opacity: 50%;
}
.smallarrow {
    width: 0px; 
    height: 0px; 
    border-bottom: none;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 12px solid var(--color-white);
    opacity: 50%;
}
.switch-toggle:checked ~ .arrow {
    position: absolute; top: 10px; right: 13px;  
    width: 0px; 
    height: 0px; 
    border-left: none;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 14px solid var(--color-white);
    opacity: 100%;
}
.switch-toggle:checked ~ .smallarrow {
    margin-bottom: 2px;
    margin-right: 2px;
    width: 0px; 
    height: 0px; 
    border-left: none;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-right: 12px solid var(--color-white);
    opacity: 100%;
}
.switch-toggle:checked ~ .displayButton {
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/view.png');
}
.switch-toggle:checked + .lockButton {
    background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/lock.png');
    opacity: 100%;
}
.switch-toggle:not(:checked) + .equipEditButton {
    opacity: 100%;
}


/* Game settings (Editor tab) */
#globalSettings .transpInput {
    color: var(--color-light-gray) !important;
}


/* Custom ailments (Editor tab) */
.ailmentCustomEditor {
    height: 320px;
}
.customAilText {
    width: 70px !important;
    text-align: left;
    font-weight: bold;
}
.ailmentCustomEditor .repcontrol { 
    position: absolute;
    top: -38px;
    right: 0px;
}
.ailmentCustomEditor .repitem { 
    margin: 5px;
    flex-basis: 30%;
    min-width: 250px;
    padding: 5px;
    border-radius: 5px;
    background-color: var(--color-lighter-gray);
    overflow: hidden;
}
.ailmentCustomEditor .repitem textarea {
    width: 205px;
    height: 37px;
    margin-bottom: 0px;
}
.repitemMock {
    margin: 2px;
    width: 160px;
    padding: 5px;
    border-radius: 5px;
    background-color: var(--color-lighter-gray);
    overflow: hidden;
}
.repitemMock .settingStyle select {
    padding-left: 3px; padding-right: 3px;
}
.repitemMock .settingStyle div:has(b) {
    text-align: right;
    padding-right: 4px;
}
.repIconMock .columnAlign .rowContainer {
    align-items: flex-end !important;
}
.ailmentCustomEditor .repcontainer, .ailmentCustomEditor .repcontainerMock  {
    display: flex;
    flex-wrap: wrap;
    max-height: 320px;
    overflow: auto;
    padding-left: 18px;
}
.hide-toggle-rev ~ .columnAlign.hide-item-rev:has(.settingStyle) {
    display: inline-block;
}
.hide-toggle-rev + .settingStyle.hide-item-rev {
    display: flex;
}
/* Displays additional options for the WhenHit ailment trigger */
div.settingStyle:has(select[name="attr_ailTrigger"] > option[value="WhenHit"]:checked)
~ div.hide-item {
    display: flex !important;
}
/* ===== Settings END ===== */




/* ===== Roll templates ===== */
/* Shared roll template styles */

/* Roll20 adds .charsheet before any styling rules that do not begin with .sheet- or .userscript- */
/*  :is() and :where() can due to this not be used, leading to some very chucky selectors */
/*  A lot of older styling is written directly into the roll templates and cannot be found here */

/* styledText is a hacky method of adding inline HTML styling to text. This text is technically a link with no href. These rules style the link to look like normal text */
.sheet-rolltemplate-message .sheet-styledText,
.sheet-rolltemplate-errorMessage .sheet-styledText,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer .sheet-styledText,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer .sheet-styledText,
.sheet-rolltemplate-message .userscript-autoeffectContainer .sheet-styledText,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer .sheet-styledText {
    pointer-events: visible;
    cursor: text;
    color: var(--color-white);
}
.sheet-rolltemplate-message .sheet-styledText:hover,
.sheet-rolltemplate-errorMessage .sheet-styledText:hover,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer .sheet-styledText:hover,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer .sheet-styledText:hover,
.sheet-rolltemplate-message .userscript-autoeffectContainer .sheet-styledText:hover,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer .sheet-styledText:hover {
    text-decoration: none;
}


/* --- Roll template - Messages --- */
.sheet-rolltemplate-message div {
    color: var(--color-white) !important;
    background-color: rgba(0,0,0,0.5) !important;
}
.sheet-rolltemplate-message a,
.sheet-rolltemplate-errorMessage a {
    pointer-events: none;
}
.sheet-rolltemplate-message img[alt*="icon"],
.sheet-rolltemplate-errorMessage img[alt*="icon"] {
    height: 25px;
    width: 25px;
}


/* --- Roll template - Damage calculations --- */
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer {
    margin-top: 10px;
    border-radius: 5px;
    border: 1px solid var(--color-light-gray);
    position: relative;
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer div {
    min-height: 25px;
    line-height: 20px;
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer > div:nth-child(n+2) div {
    padding-top: 3px;
    padding-bottom: 3px;
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer div > img:first-child {
    position: absolute;
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer div > img:first-child + div {
    margin-left: 25px;
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer > div:nth-child(n+2) {
    border-bottom: 1px solid var(--color-light-gray);
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer > div:first-child {
    height: 30px;
    border: 2px solid var(--color-light-gray);
}
.sheet-rolltemplate-damagecalculation .userscript-damageDisplay {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 32px;
    text-align: center;
    width: 64%;
    position: absolute;
    left: 0px;
    top: 0px;
}
.sheet-rolltemplate-damagecalculation img {
    height: 25px;
    width: 25px;
}
.sheet-rolltemplate-damagecalculation .userscript-baseDamage, .sheet-rolltemplate-damagecalculation .userscript-flatModifier {
    padding-left: 9px;
    line-height: 25px !important;
}
.sheet-rolltemplate-damagecalculation .userscript-updateStatDisplay {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 28px;
    width: 35%;
    background-color: var(--color-black);
    border: 2px solid var(--color-black) !important;
    position: absolute;
    right: 0px;
    top: 0px;
    font-size: 16px;
}
.sheet-rolltemplate-damagecalculation .userscript-calculationContainer:has(div:only-child) {
    display: none;
}
.sheet-rolltemplate-damagecalculation .userscript-hpCalculationContainer div:first-child { color: var(--color-HP); background-color: var(--color-darker-gray); }
.sheet-rolltemplate-damagecalculation .userscript-stCalculationContainer div:first-child { color: var(--color-ego-STGR); background-color: var(--color-darker-gray); }
.sheet-rolltemplate-damagecalculation .userscript-spCalculationContainer div:first-child { color: var(--color-SAN); background-color: var(--color-darker-gray); }


/* --- Roll template - Dice rolls --- */
.sheet-rolltemplate-baseRoll .userscript-descriptionContainer {
    width: 50%;
    height: auto;
    float: left;
}
.sheet-rolltemplate-baseRoll .userscript-effectDescription {
    max-height: 70px;
    overflow: auto;
    border: 1px var(--color-light-gray) solid;
    padding-bottom: 1px;
}
/* If only one description is present, expand its width to cover the entie container*/
.sheet-rolltemplate-baseRoll :nth-child(1 of div.userscript-descriptionContainer):not(:has(+ .userscript-descriptionContainer)) {
    width: 100% !important;
}


/* --- AutoEffect sections --- */
.sheet-rolltemplate-message .userscript-autoeffectContainer .userscript-autoEffectImage,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer .userscript-autoEffectImage,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer .userscript-autoEffectImage,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer .userscript-autoEffectImage {
    height: 25px;
    width: 25px;
}
.sheet-rolltemplate-message .userscript-autoeffectContainer a,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer a,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer a,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer a {
    pointer-events: none;
}
.sheet-rolltemplate-message .userscript-autoeffectContainer,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer {
    margin-top: 5px;
    border-radius: 5px;
    border: 1px solid var(--color-light-gray);
    position: relative;
}
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer {
    float: left;
    width: 99.3%;
}
.sheet-rolltemplate-message .userscript-autoeffectContainer > .userscript-autoeffectEntry,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer > .userscript-autoeffectEntry,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer > .userscript-autoeffectEntry,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer > .userscript-autoeffectEntry {
    position: relative;
    padding-left: 25px;
    padding-right: 5px;
    min-height: 25px;
    line-height: 20px;
    border-bottom: 1px solid var(--color-light-gray);
}
.sheet-rolltemplate-message .userscript-autoeffectContainer .userscript-autoEffectTitle,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer .userscript-autoEffectTitle,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer .userscript-autoEffectTitle,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer .userscript-autoEffectTitle {
    width: calc(100% - 40px);
}
.sheet-rolltemplate-message .userscript-autoeffectEntryn div,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectEntry div,
.sheet-rolltemplate-autoeffect .userscript-autoeffectEntry div,
.sheet-rolltemplate-baseRoll .userscript-autoeffectEntry div{
    padding-top: 3px;
    padding-bottom: 3px;
}
.sheet-rolltemplate-message .userscript-autoeffectEntryn:has(div:first-child),
.sheet-rolltemplate-damagecalculation .userscript-autoeffectEntry:has(div:first-child),
.sheet-rolltemplate-autoeffect .userscript-autoeffectEntry:has(div:first-child),
.sheet-rolltemplate-baseRoll .userscript-autoeffectEntry:has(div:first-child){
    padding-left: 9px;
}
.sheet-rolltemplate-message .userscript-autoeffectContainer > .userscript-autoeffectEntry > img:first-child,
.sheet-rolltemplate-damagecalculation .userscript-autoeffectContainer > .userscript-autoeffectEntry > img:first-child,
.sheet-rolltemplate-autoeffect .userscript-autoeffectContainer > .userscript-autoeffectEntry > img:first-child,
.sheet-rolltemplate-baseRoll .userscript-autoeffectContainer > .userscript-autoeffectEntry > img:first-child {
    position: absolute;
    left: 0;
}

/* Collapseable section styling */
.sheet-rolltemplate-message .userscript-collapseSection,
.sheet-rolltemplate-damagecalculation .userscript-collapseSection,
.sheet-rolltemplate-baseRoll .userscript-collapseSection {
    max-height: 29px;
    transition: max-height 10s 0.1s ease-in;
    overflow: hidden;
}
.sheet-rolltemplate-message .userscript-collapseSection:hover,
.sheet-rolltemplate-damagecalculation .userscript-collapseSection:hover,
.sheet-rolltemplate-baseRoll .userscript-collapseSection:hover {
    max-height: 500px;
    transition: max-height 3s 0.1s ease;
}
/* Removed mergin for every section but the first */
.sheet-rolltemplate-damagecalculation .userscript-collapseSection ~ .userscript-collapseSection,
.sheet-rolltemplate-message .userscript-collapseSection ~ .userscript-collapseSection,
.sheet-rolltemplate-baseRoll .userscript-collapseSection ~ .userscript-collapseSection {
    margin-top: 0px;
}
/* Create arrow to indicate if the section is collapsed... */
.sheet-rolltemplate-damagecalculation .userscript-collapseSection .userscript-arrow,
.sheet-rolltemplate-message .userscript-collapseSection .userscript-arrow,
.sheet-rolltemplate-baseRoll .userscript-collapseSection .userscript-arrow {
    position: absolute; top: 10px; right: 10px;   
    width: 0px; 
    height: 0px; 
    border-bottom: none;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 10px solid var(--color-white);
    opacity: 50%;
    transition: opacity 10s 0.1s ease;
}
/* ... or expanded */
.sheet-rolltemplate-damagecalculation .userscript-collapseSection:hover .userscript-arrow,
.sheet-rolltemplate-message .userscript-collapseSection:hover .userscript-arrow,
.sheet-rolltemplate-baseRoll .userscript-collapseSection:hover .userscript-arrow {
    opacity: 0%;
    transition: opacity 0.6s 0.1s ease;
}


/* --- Chat buttons (buttons below chat messages) --- */
/* These buttons are in reality a second message styled to look seemless with the message before it */
.sheet-rolltemplate-chatbuttons {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    align-content: flex-start;
    width: 100%;
}
.sheet-rolltemplate-chatbuttons .sheet-chatButtonContainer {
    background-color: #454545;
    position: relative;
    box-sizing: border-box;
    top: -10px;
    left: 2px;
    padding: 5px;
    margin: -2px; /* Due to this margin every gap between two chat buttons removes 4px of width from a row. The width calc below accounts for this */
    border-radius: 5px;
    width: calc((100% + (var(--buttonsPerRow) - 1) * 4px)/var(--buttonsPerRow));
}
.sheet-rolltemplate-chatbuttons .sheet-chatButtonContainer:has([class*="sheet-HalfButton"]) { --buttonsPerRow: 2 }
.sheet-rolltemplate-chatbuttons .sheet-chatButtonContainer:has([class*="sheet-ThirdButton"]) { --buttonsPerRow: 3 }

.sheet-rolltemplate-chatbuttons .sheet-button {
    background-color: #6f8b60;
    border-radius: 10px;
}
.sheet-rolltemplate-chatbuttons .sheet-button a {
    box-sizing: border-box;
    color: var(--color-white);
    background-color: rgba(0, 0, 0, 0);
    border: 0px;
    border-radius: 10px;
    width: 100%;
}
.sheet-rolltemplate-chatbuttons .sheet-button a:hover {
    background-color: rgba(255, 255, 255, 0.15);
}
.sheet-rolltemplate-chatbuttons img {
    width: 20px;
    height: 20px;
    margin-right: 2px;
}
.sheet-rolltemplate-chatbuttons a:has(img) {
    position: absolute;
    pointer-events: none;
    background-color: rgba(0,0,0,0) !important;
    padding: 4px;
    z-index: 1;
}
.sheet-rolltemplate-chatbuttons a:has(img) + a {
    padding-left: 25px !important;
}

/* Chat avatar fix. Creates a blocker that cover the chat avatar, and shifts the message up an additional amount to make up for the space taken by the avatar */
/* For the love of all that is holy do not change these styling rules. I cannot describe to you how long it took to get them right */
.sheet-rolltemplate-chatbuttons:not(:first-child) .sheet-chatButtonBlocker,
.sheet-rolltemplate-chatbuttons:not(:first-child) .sheet-chatButtonBlockerWhisper {
    position: absolute;
    height: calc(100% + 16px);
    margin-top: -60px;
    background-color: #d3e5f5;
    top: 25px;
    left: -50px;
    right: -50px;
}
.sheet-rolltemplate-darkmode .sheet-chatButtonBlocker {
    background-color: var(--surface-dark2) !important;
}
/* The blocker currently uses the standard whisper message background color. Can be set to --surface-dark2 to hide that chat buttons were whispered */
.sheet-rolltemplate-darkmode .sheet-chatButtonBlockerWhisper {
    background-color: var(--surface-dark-gamecard) !important;
}
.sheet-rolltemplate-chatbuttons:not(:first-child):has(:nth-child(3):not(:empty)) {
    position: relative;
}
.sheet-rolltemplate-chatbuttons:not(:first-child) {
    position: relative;
    margin-bottom: -25px;
}
.sheet-rolltemplate-chatbuttons:not(:first-child) .sheet-chatButtonContainer {
    top: -35px;
}
/* ===== Roll templates END ===== */




/* ===== Assorted ===== */
/* Auto Update Indicator */
.autoUpdateIndicator {
    position: absolute;
    top: 6px;
    right: 2px;
    border-radius: 4px;
    pointer-events: none;
    z-index: 2;
}
.loopEnabledToggle:not(:checked) ~ .autoUpdateIndicator {
    display: none;
}
.loopEnabledToggle:checked ~ .autoUpdateIndicator {
    border: 4px solid var(--color-STGR);
}
.loopEnabledToggle:checked + .loopSearchingToggle:checked ~ .autoUpdateIndicator {
    border: 4px solid var(--color-light-green);
}
.loopEnabledToggle:checked ~ .loopStandbyToggle:checked + .autoUpdateIndicator {
    border: 4px solid var(--color-HP);
}


/* --- Experimental --- */



/* --- Roll overhaul --- */
.sheet-rolltemplate-customRoll .sheet-statRollResult {
    text-align: center;
    margin-top: 5px;
}
.sheet-rolltemplate-customRoll .sheet-statRollResult img {
    width: 25px;
    height: 25px;
}
.sheet-rolltemplate-customRoll .sheet-plainText span {
    background-color: transparent;
    border: none;
}



/* --- Chat message sorting --- */
.sheet-rolltemplate-testFeature :target {
    background-color: red !important;
    border: 2px solid black !important;
}

.sheet-rolltemplate-testFeature .sheet-compact {
    width: 100px;
    height: 45px;
    background-color: black;
}

.sheet-rolltemplate-testFeature:has(:target) .sheet-template-wrapper {
    background-color: purple !important;
}

.sheet-rolltemplate-testFeature:has(:target) ~ * {
    background-color: purple !important;
}


/* --- :target testing --- */
.sheet-rolltemplate-shareB :target {
    background-color: gold;
}

.sheet-rolltemplate-shareB :target::before {
    content: " ";
    width: 10px;
    height: 10px;
    background-color: red !important;
}
  
/* Add a pseudo-element inside the target element */
.sheet-rolltemplate-shareB :target::before {
    font: 70% sans-serif;
    content: "►";
    color: limegreen;
    margin-right: 0.25em; /* Go back here */
}

/* Style italic elements within the target element */
.sheet-rolltemplate-shareB :target i {
    color: red;
}


/* Get Rickrolled */
.sheet-rolltemplate-testFeature .sheet-testcontainer {
    display: flex;
    justify-content: center;
}
.sheet-rolltemplate-testFeature .sheet-testcontainer a {
    display: block;
    margin: auto;
    width: 65px;
    height: 30px;
    background-color: #111;
    border: 1px solid #000;
    border-radius: 3px;
    color: #fff;
    padding: 15px 6px 0px 6px;

    font-size: 20px;
    text-align: center;

    transition: width 5s, height 5s, background-color 5s, color 5s, font-size 5s;
    transition-timing-function: ease-in-out;
}

@keyframes example {
    0%   {background-color:#000000; color: #ffffff; width: 65px; }
    25%  {background-color:#1f1a1a; color: #ffcece; width: 75px;}
    50%  {background-color:#2c1e1e; color: #ff9f9f; width: 85px;}
    75%  {background-color:#352121; color: #ff5656; width: 95px;}
    100% {background-color:#361f1f; color: #ff0000; width: 105px;}
}

.sheet-rolltemplate-testFeature .sheet-testcontainer a:hover {
    background-color:#361f1f;
    color: #ff0000;
    width: 105px;
    height: 42px;
    font-size: 35px;
}


/* ===== Assorted END ===== */




/* ===== Icons ===== */
.skillIcon, .typeIcon, .resistIcon {
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
}
.resistIcon {
    width: 30px;
    height: 30px;
}
.typeIcon {
    width: 35px;
    height: 35px;
}
.egoSkills .skillIcon, .egoContainer .typeIcon {
    background-color: var(--color-black);
}

.skillAtt { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Attack.png'); }
.skillDef { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/defend.png'); }
.skillEvd { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/evade.png'); }
.skillAct { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Portable.png'); }
.skillMass { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Wide.png'); }
.skillSpecial { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/specialwhite.png'); }

.egoSkills .skillAtt, .egoAtt { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoAtt.png'); }
.egoSkills .skillDef, .egoDef { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoDef.png'); }
.egoSkills .skillEvd, .egoEvd { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoEvd.png'); }
.egoSkills .skillAct, .egoAct { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoAct.png'); }
.egoSkills .skillMass { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoWide.png'); }
.egoSpecial { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoSpecial.png'); }

.slash { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Slash.png'); }
.pierce { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/pierce.png'); }
.blunt { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/blunt.png'); }
.egoSlash { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoSlash.png'); }
.egoPierce { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoPierce.png'); }
.egoBlunt { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/egoBlunt.png'); }

.slashNormal { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/def/ResSlash.png'); }
.slashNormalSTG { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/def/ResSlashStg.png'); }
.pierceNormal { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/def/ResPierce.png'); }
.pierceNormalSTG { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/def/ResPierceStg.png'); }
.bluntNormal { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/def/ResBlunt.png'); }
.bluntNormalSTG { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/def/ResBluntStg.png'); }

.defend { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/defend.png'); }
.evade { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/evade.png'); }


/* Ailment Icons */
.question { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/question.png'); }

.burn { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Burn.png'); }
.burn-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Burn.png'); }

.bleed { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Bleed.png'); }
.bleed-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Bleed.png'); }

.paralysis { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Paralysis.png'); }
.paralysis-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Paralysis.png'); }

.smoke { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Smoke.png'); }
.smoke-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Smoke.png'); }

.charge { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Charge.png'); }
.charge-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Charge.png'); }

.fortune { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Fortune.png'); }
.fortune-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Fortune.png'); }

.fragile { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Fragile.png'); }
.fragile-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Fragile.png'); }
.fragile-limbus-red { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/FragileRed.png'); }

.protection { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Protection.png'); }
.protection-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Protection.png'); }

.staggerprotection { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/StaggerProtection.png'); }
.staggerprotection-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/limbus/StaggerProtection.png'); }

.strength { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Strength.png'); }
.strength-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Strength.png'); }

.endurance { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Endurance.png'); }
.endurance-limbus { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Endurance.png'); }
.endurance-limbus-blue { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/EnduranceBlue.png'); }

.haste { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Haste.png'); }
.haste-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Haste.png'); }

.feeble { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Feeble.png'); }
.feeble-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Feeble.png'); }

.disarm { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Disarm.png'); }
.disarm-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Disarm.png'); }
.disarm-limbus-blue { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/DisarmBlue.png'); }

.bind { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Bind.png'); }
.bind-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Bind.png'); }

.panic { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Panic.png'); }
.panic-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Panic.png'); }
.panic-limbus-blue { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/PanicBlue.png'); }

.hostile { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Hostile.png'); }
.hostile-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Hostile.png'); }

.stagger, .fragilestagger { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/FragileStagger.png'); }
.stagger-limbus, .fragilestagger-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/FragileStagger.png'); }

.seal { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Seal.png'); }
.seal-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Seal.png'); }

.immobile { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Immobile.png'); }
.immobile-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Immobile.png'); }

.defeat { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/Defeat.png'); }
.defeat-limbus { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/images/ailments/limbus/Defeat.png'); }


/* Assorted icons */
.next { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/next.png'); }
.luck { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/fortunewhite.png'); }
.speed { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Speed.png'); }
.whisper { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/whisper.png'); }
.exit { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/exit.png'); }
.option { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/gear.png'); }
.edit { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/edit.png'); }
.search { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/search.png'); }
.arrowUp { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/arrowUp.png'); }
.arrowDown { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/arrowDown.png'); }

.reaction { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/fortunewhite.png'); }
.light { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/light.png'); }

.damageResist { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/DamageResist.png'); }
.damageResist-limbus { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/ailments/limbus/DamageResist.png'); }

.portable { background-image: url("https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/Portable.png"); }
.reusable { background-image: url('https://raw.githubusercontent.com/punibird/roll20-character-sheets/master/ProjectMoonTRPG/imagesResized/icons/reuse.png'); }
.heal { background-image: url('https://raw.githubusercontent.com/beautidemise/roll20-character-sheets/Release-v0.7.2/ProjectMoonTRPG/imagesResized/icons/heal.png'); }

/* ===== Icons END ===== */




/* ===== Colors ===== */
.charsheet,
.sheet-rolltemplate-message,
.sheet-rolltemplate-errorMessage,
.sheet-rolltemplate-damagecalculation,
.sheet-rolltemplate-autoeffect,
.sheet-rolltemplate-baseRoll,
.sheet-rolltemplate-chatbuttons,
.sheet-rolltemplate-shareB  {
    --color-white: #fff;
    --color-off-white: #eee;
    --color-dark-white: #ddd;
    --color-darker-white: #ccc;
    --color-lighter-gray: #999;
    --color-light-gray: #555;
    --color-gray: #333;
    --color-dark-gray: #222;
    --color-darker-gray: #111;
    --color-black: #000;
    --color-red: #c25944;
    --color-blue: #7397d1;
    --color-green: #85a874;
    --color-light-green: #93c47d;
    --color-purple: #8e7cc3;
    --color-orange: #cf8c44;
    --color-light-orange: #FC0;
    --color-HP: #cc4125;
    --color-STGR: #dbb748;
    --color-ego-STGR: #f1c232;
    --color-SAN: #6d9eeb;
    --color-LIGHT: #fee2b0;
    --color-rgb-LIGHT: 254, 226, 176;
    --color-TEMP: #1f9bd9c0;
    --color-wisdom: #d9d9d9;
    --color-justice: #46bdc6;
    --color-charm: #9c66c6;
    --color-insight: #ffe599;
    --color-temperance: #ac609d;
}

.conditioalButtonColorSelection[value="blue"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="blue"])  { background-color: var(--color-blue); }
.conditioalButtonColorSelection[value="yellow"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="yellow"])  { background-color: var(--color-STGR); }
.conditioalButtonColorSelection[value="orange"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="orange"]) { background-color: var(--color-orange); }
.conditioalButtonColorSelection[value="red"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="red"]) { background-color: var(--color-red); }
.conditioalButtonColorSelection[value="purple"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="purple"])  { background-color: var(--color-purple); }
.conditioalButtonColorSelection[value="green"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="green"])  { background-color: var(--color-green); }
.conditioalButtonColorSelection[value="black"]:checked ~ .conditioalButtonColor,
.sheet-rolltemplate-chatbuttons .sheet-button:has(img[alt*="black"])  { background-color: var(--color-black); }

.WHITE { background-color: var(--color-off-white) !important; }
.BLACK { background-color: var(--color-black) !important; }

.HP{ background-color: var(--color-HP) !important; }
.HPtext, .instinct, .counterText { color: var(--color-HP) !important; }

.STGR { background-color: var(--color-STGR) !important; }
.STGRtext { color: var(--color-STGR)!important; }
.egoSTGR { background-color: var(--color-ego-STGR) !important; }
.egoSTGRtext { color: var(--color-ego-STGR) !important; }

.SAN { background-color: var(--color-SAN) !important; }
.SANtext { color: var(--color-SAN) !important; }

.LIGHT { background-color: var(--color-LIGHT) !important; }
.LIGHTtext { color: var(--color-LIGHT) !important; }

.weapon { background-color: var(--color-red) !important; }
.outfit { background-color: var(--color-blue) !important; }
.augment { background-color: var(--color-green) !important; }
.tool { background-color: var(--color-purple) !important; }
.toolText { color: var(--color-purple) !important; }
.special { background-color: var(--color-orange) !important; }

.ego, .skillE { background-color: var(--color-darker-gray) !important; }
.skillN { background-color: var(--color-light-gray) !important; }

.darkBG {
    background-color: var(--color-gray) !important;
    padding: 5px !important;
}

.wisdom { color: var(--color-wisdom) !important; }
.justice { color: var(--color-justice) !important; }
.charm { color: var(--color-charm) !important; }
.insight { color: var(--color-insight) !important; }
.temperance { color: var(--color-temperance) !important; }

.egoDiceDEF {
    border: 1px var(--color-SAN) solid;
    color: var(--color-SAN) !important;
    height: 30px;
    margin-right: 10px !important;
}
.egoDiceEVD {
    border: 1px var(--color-ego-STGR) solid;
    color: var(--color-ego-STGR) !important;
    height: 30px;
}
.egoDiceATK {
    border: 1px var(--color-HP) solid;
    color: var(--color-HP) !important;
    height: 30px;
}
.egoDiceATK :is(input, .plainText) {
    color: var(--color-HP) !important;
}
.egoDiceDEF :is(input, .plainText) {
    color: var(--color-SAN) !important;
}
.egoDiceEVD :is(input, .plainText) {
    color: var(--color-ego-STGR) !important;
}
/* ===== Colors END ===== */